(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{130:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(50),s=n.n(a),r=n(51),l=n.n(r),i=n(52),u=n.n(i),c=n(53),o=n.n(c),m=n(55),h=n.n(m),d=n(54),f=n.n(d),v=n(0),p=n.n(v),E=(n(23),function(e){function t(e){var n;return s()(this,t),(n=u()(this,o()(t).call(this,e))).state={currentTest:0,remindFinishTest:!1},n.results=[],n.handleSubmit=n.handleSubmit.bind(h()(n)),n.handleSkip=n.handleSkip.bind(h()(n)),n.handleRedo=n.handleRedo.bind(h()(n)),n.testIframe=p.a.createRef(),n}return f()(t,e),l()(t,[{key:"handleSkip",value:function(){this.state.currentTest===this.props.tests.length-1?this.props.finishRun(this.results):this.setState({currentTest:this.state.currentTest+1})}},{key:"handleSubmit",value:function(){var e=this.testIframe.current.contentDocument.querySelector("#__ariaatharness__results__");e?(this.results.push(JSON.parse(e.innerHTML)),this.state.currentTest===this.props.tests.length-1?this.props.finishRun(this.results):this.setState({currentTest:this.state.currentTest+1,remindFinishTest:!1})):this.setState({remindFinishTest:!0})}},{key:"handleRedo",value:function(){"undefined"!=typeof document&&document.getElementById("testfile").contentWindow.location.reload()}},{key:"render",value:function(){var e=this.props,t=e.tests,n=e.at,a=e.browser,s=t[this.state.currentTest];return n||(n="JAWS"),p.a.createElement("section",null,p.a.createElement("p",null,"Screen reader: ",n,", browser: ",a),p.a.createElement("h1",null,"Current test (",this.state.currentTest+1," of ",t.length,"): ",s.fullName),p.a.createElement("iframe",{id:"testfile",src:"../tests".concat(s.location,"?at=").concat(n),ref:this.testIframe}),p.a.createElement("button",{onClick:this.handleRedo},"Redo Test"),p.a.createElement("button",{onClick:this.handleSkip},"Skip Test"),p.a.createElement("button",{onClick:this.handleSubmit},"Submit Results"),this.state.remindFinishTest&&p.a.createElement("p",{className:"test-incomplete",tabIndex:"0"},"Current test not completed, finish marking behavior results."))}}]),t}(v.Component))},59:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(15),l=(n(24),n(50)),i=n.n(l),u=n(51),c=n.n(u),o=n(52),m=n.n(o),h=n(53),d=n.n(h),f=n(55),v=n.n(f),p=n(54),E=n.n(p),y=function(e){function t(e){var n;i()(this,t),n=m()(this,d()(t).call(this,e));var a={};for(var r in e.allTests){a[r]={};var l=!0,u=!1,c=void 0;try{for(var o,h=e.allTests[r][Symbol.iterator]();!(l=(o=h.next()).done);l=!0){var f=o.value;a[r][f.name]=!1}}catch(p){u=!0,c=p}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}return n.state={selectedTests:a,at:n.props.ats[0],atVersion:""},n.selectTestEl=s.a.createRef(),n.runTests=n.runTests.bind(v()(n)),n.selectTest=n.selectTest.bind(v()(n)),n.selectAT=n.selectAT.bind(v()(n)),n.selectATVersion=n.selectATVersion.bind(v()(n)),n}return E()(t,e),c()(t,[{key:"selectAT",value:function(e){this.setState({at:e.target.value})}},{key:"selectATVersion",value:function(e){this.setState({atVersion:e.target.value})}},{key:"selectTest",value:function(e){var t=Object.assign({},this.state.selectedTests),n=e.target.name;if(0===n.indexOf("all-")){var a=n.slice(4),s=e.target.checked;for(var r in t[a])t[a][r]=s}else{var l=n.split("_")[0],i=n.split("_")[1],u=e.target.checked;t[l][i]=u}this.setState({selectedTests:t})}},{key:"runTests",value:function(e){var t=this.props.allTests,n=[];for(var a in t){var s=!0,r=!1,l=void 0;try{for(var i,u=t[a][Symbol.iterator]();!(s=(i=u.next()).done);s=!0){var c=i.value;this.state.selectedTests[a][c.name]&&n.push(c)}}catch(o){r=!0,l=o}finally{try{s||null==u.return||u.return()}finally{if(r)throw l}}}n.length?this.props.startRun({tests:n,at:this.state.at,atVersion:this.state.atVersion}):this.selectTestEl.current.focus()}},{key:"isDesignPatternChecked",value:function(e){var t=!0;for(var n in this.state.selectedTests[e])t=t&&this.state.selectedTests[e][n];return t}},{key:"renderDesignPatternSelectable",value:function(e,t){var n=this,a=this.isDesignPatternChecked(e),r="all-".concat(e);return s.a.createElement("details",{className:"design-pattern-options",key:e},s.a.createElement("summary",{className:"configuration-item"},s.a.createElement("input",{type:"checkbox",id:r,name:r,checked:a,onChange:this.selectTest}),s.a.createElement("label",{htmlFor:r},"Tests for ",e)),s.a.createElement("ul",{className:"select-test-list"},t.map((function(t){return n.renderTestSelectable(e,t)}))))}},{key:"renderTestSelectable",value:function(e,t){var n="".concat(e,"_").concat(t.name),a=this.state.selectedTests[e][t.name];return s.a.createElement("li",{className:"select-test-item",key:t.location},s.a.createElement("input",{type:"checkbox",id:n,name:n,checked:a,onChange:this.selectTest}),s.a.createElement("label",{htmlFor:n,title:t.fullName,className:"engine-label"},t.fullName," ",s.a.createElement("div",{className:"test-details"},t.location.slice(1))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allTests,a=t.ats,r=t.browser,l=0,i=new Set;for(var u in n){var c=!0,o=!1,m=void 0;try{for(var h,d=n[u][Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value;this.state.selectedTests[u][f.name]&&(l++,i.add(u))}}catch(v){o=!0,m=v}finally{try{c||null==d.return||d.return()}finally{if(o)throw m}}}return s.a.createElement("section",null,s.a.createElement("h1",null,"It's test time!"),s.a.createElement("div",{ref:this.selectTestEl,tabIndex:"0"},"Select at least one test to run:"),Object.keys(n).map((function(t){return e.renderDesignPatternSelectable(t,n[t])})),s.a.createElement("div",{className:"configuration-item"},s.a.createElement("label",{htmlFor:"select-at"},"Select which assistive technology you are testing: "),s.a.createElement("select",{name:"at",id:"select-at",value:this.state.at,onChange:this.selectAT},a.map((function(e){return s.a.createElement("option",{value:e,key:e},e)})))),s.a.createElement("div",{className:"configuration-item"},s.a.createElement("label",{htmlFor:"select-at"},"Which version of ",this.state.at,"?: "),s.a.createElement("input",{type:"text",name:"at-version",id:"select-at-version",value:this.state.atVersion,onChange:this.selectATVersion})),s.a.createElement("div",{className:"configuration-item"},"Saving results for UserAgent: ",s.a.createElement("span",{className:"us"},r)),s.a.createElement("button",{onClick:this.runTests},"Run ",l," test",1===l?"":"s"," for ",i.size," pattern",1===i.size?"":"s"))}}]),t}(a.Component),b=function(e){function t(e){return i()(this,t),m()(this,d()(t).call(this,e))}return E()(t,e),c()(t,[{key:"renderResultRow",value:function(e){var t=e.details[0];return s.a.createElement("tr",null,s.a.createElement("td",null,t.name),s.a.createElement("td",null,e.status),s.a.createElement("td",null,t.summary[1].pass," / ",t.summary[1].fail),s.a.createElement("td",null,t.summary[2].pass," / ",t.summary[2].fail),s.a.createElement("td",null,t.summary[3].pass," / ",t.summary[3].fail),s.a.createElement("td",null,t.summary.unexpectedCount))}},{key:"renderResultDetails",value:function(e){var t=this,n=e.details[0];return s.a.createElement("section",null,s.a.createElement("h2",null,'Results for: "',n.name,'"'),s.a.createElement("table",{className:"results-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Command"),s.a.createElement("th",null,"Support"),s.a.createElement("th",null,"Details"))),s.a.createElement("tbody",null,n.commands.map((function(e){return t.renderCommandResults(e)})))))}},{key:"renderCommandResults",value:function(e){var t=this;return s.a.createElement("tr",null,s.a.createElement("td",null,e.command),s.a.createElement("td",null,e.support),s.a.createElement("td",null,s.a.createElement("p",null,'JAWS output: "',e.output,'"'),s.a.createElement("div",null,"Passing Assertions:",s.a.createElement("ul",null,e.assertions.map((function(e){return t.renderAssertion(e,"passing")})))),s.a.createElement("div",null,"Failing Assertions:",s.a.createElement("ul",null,e.assertions.map((function(e){return t.renderAssertion(e,"failing")})))),s.a.createElement("div",null,"Unexpected Behavior:",s.a.createElement("ul",null,e.unexpected_behaviors.map((function(e){return s.a.createElement("li",null,"behavior")}))))))}},{key:"renderAssertion",value:function(e,t){return e.fail&&"failing"===t?s.a.createElement("li",null,e.assertion):e.pass&&"passing"===t?s.a.createElement("li",null,e.assertion):void 0}},{key:"render",value:function(){var e=this,t=this.props,n=t.results;t.at,t.browser;return console.log(n),s.a.createElement(a.Fragment,null,s.a.createElement("section",null,s.a.createElement("h1",null,"Summary of results"),s.a.createElement("table",{className:"results-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Test"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,s.a.createElement("div",null,"Must Have"),s.a.createElement("div",null,"(pass/fail)")),s.a.createElement("th",null,s.a.createElement("div",null,"Must Have"),s.a.createElement("div",null,"(pass/fail)")),s.a.createElement("th",null,s.a.createElement("div",null,"Must Have"),s.a.createElement("div",null,"(pass/fail)")),s.a.createElement("th",null,s.a.createElement("div",null,"Unexpected Behaviors"),s.a.createElement("div",null,"(total count)")))),s.a.createElement("tbody",null,n.map((function(t){return e.renderResultRow(t)}))))),n.map((function(t){return e.renderResultDetails(t)})))}}]),t}(a.Component),T=n(130),g=n(131),k=n.n(g),R=function(e){function t(e){var n;if(i()(this,t),(n=m()(this,d()(t).call(this,e))).state={stage:"configureRun"},n.tests=[],n.results=[],n.browser="","undefined"!=typeof window){var a=k.a.getParser(window.navigator.userAgent);n.browser="".concat(a.getBrowser().name," (").concat(a.getBrowser().version,")")}return n.finishRun=n.finishRun.bind(v()(n)),n.startRun=n.startRun.bind(v()(n)),n}return E()(t,e),c()(t,[{key:"startRun",value:function(e){this.tests=e.tests,this.at=e.at,this.atVersion=e.atVersion,this.setState({stage:"runTests"})}},{key:"finishRun",value:function(e){this.results=e,this.setState({stage:"displayResults"})}},{key:"renderTestRun",value:function(){return s.a.createElement(T.a,{tests:this.tests,browser:this.browser,at:this.at,atVersion:this.atVersion,finishRun:this.finishRun})}},{key:"renderConfigureRun",value:function(){return s.a.createElement(y,{ats:this.props.ats,allTests:this.props.allTests,startRun:this.startRun,browser:this.browser})}},{key:"renderResults",value:function(){return s.a.createElement(b,{results:this.results,at:this.at,atVersion:this.atVersion,browser:this.browser})}},{key:"render",value:function(){return s.a.createElement(a.Fragment,null,"configureRun"===this.state.stage&&this.renderConfigureRun(),"runTests"===this.state.stage&&this.renderTestRun(),"displayResults"===this.state.stage&&this.renderResults())}}]),t}(a.Component);function S(){var e=Object(r.useRouteData)(),t=e.allTests,n=e.ats;return s.a.createElement("div",null,s.a.createElement(R,{allTests:t,ats:n}))}n.d(t,"default",(function(){return S}))}}]);