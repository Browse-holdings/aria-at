(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{133:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(50),s=n.n(a),r=n(51),l=n.n(r),i=n(52),c=n.n(i),u=n(53),o=n.n(u),m=n(54),h=n.n(m),d=n(0),f=n.n(d),v=n(15),E=function(e){function t(e){return s()(this,t),c()(this,o()(t).call(this,e))}return h()(t,e),l()(t,[{key:"renderResultRow",value:function(e,t){var n=e.details;return f.a.createElement("tr",{key:n.name},f.a.createElement("td",null,f.a.createElement("a",{href:"#test-".concat(t.toString())},n.name)),f.a.createElement("td",null,n.summary[1].pass," / ",n.summary[1].fail),f.a.createElement("td",null,n.summary[2].pass," / ",n.summary[2].fail),f.a.createElement("td",null,n.summary[3].pass," / ",n.summary[3].fail),f.a.createElement("td",null,n.summary.unexpectedCount))}},{key:"renderResultDetails",value:function(e,t){var n=this,a=e.details;return f.a.createElement("section",null,f.a.createElement("h2",{id:"test-".concat(t.toString())},'Details for test "',a.name,'"'),f.a.createElement("table",{className:"results-table"},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",null,"Command"),f.a.createElement("th",null,"Support"),f.a.createElement("th",null,"Details"))),f.a.createElement("tbody",null,a.commands.map((function(e){return n.renderCommandResults(e)})))))}},{key:"renderCommandResults",value:function(e){return f.a.createElement("tr",null,f.a.createElement("td",null,e.command),f.a.createElement("td",null,e.support),f.a.createElement("td",null,f.a.createElement("p",null,'JAWS output: "',e.output,'"'),this.renderPassingAssertions(e.assertions),this.renderFailingAssertions(e.assertions),this.renderUnexpectedBehavior(e.unexpected_behaviors)))}},{key:"renderPassingAssertions",value:function(e){var t=e.filter((function(e){return e.pass}));if(t.length)return f.a.createElement("div",null,"Passing Assertions:",f.a.createElement("ul",null,t.map((function(e){return f.a.createElement("li",null,e.assertion)}))))}},{key:"renderFailingAssertions",value:function(e){var t=e.filter((function(e){return e.fail}));if(t.length)return f.a.createElement("div",null,"Failing Assertions:",f.a.createElement("ul",null,t.map((function(e){return f.a.createElement("li",null,e.assertion)}))))}},{key:"renderUnexpectedBehavior",value:function(e){if(e.length)return f.a.createElement("div",null,"Unexpected Behaviors:",f.a.createElement("ul",null,e.map((function(e){return f.a.createElement("li",null,e)}))))}},{key:"render",value:function(){var e=this,t=this.props.resultsData,n=t.assistiveTechnology,a=t.browser,s=t.designPattern,r=t.results,l=r.length,i=t.fileName?"".concat(t.fileName,".json"):"results_".concat(n.name,"-").concat(n.version,"_").concat(a.name,"-").concat(a.version,"_").concat((new Date).toISOString(),".json"),c={1:[0,0],2:[0,0],3:[0,0]},u=0,o=!0,m=!1,h=void 0;try{for(var E,p=r[Symbol.iterator]();!(o=(E=p.next()).done);o=!0){var g=E.value.details;u+=g.summary.unexpectedCount;for(var y=1;y<=3;y++)c[y][0]+=g.summary[y].pass,c[y][1]+=g.summary[y].pass+g.summary[y].fail}}catch(b){m=!0,h=b}finally{try{o||null==p.return||p.return()}finally{if(m)throw h}}return f.a.createElement(d.Fragment,null,f.a.createElement(v.Head,null,f.a.createElement("title",null,"ARIA-AT: Test Run Results")),f.a.createElement("section",null,f.a.createElement("h1",null,'Results for test run of pattern "'.concat(s,'" (').concat(l," test").concat(1===l?"":"s",")")),f.a.createElement("p",null,"".concat(n.name," (").concat(n.version,") on ").concat(a.name," (").concat(a.version,")")),i&&f.a.createElement("p",null,"Loaded from result file: ",i),f.a.createElement("p",null,f.a.createElement("a",{download:i,href:"data:application/json;charset=utf-8;,".concat(encodeURIComponent(JSON.stringify(t)))},"Download Results JSON")),f.a.createElement("h2",null,"Summary of tests"),f.a.createElement("table",{className:"results-table"},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",null,"Test"),f.a.createElement("th",null,f.a.createElement("div",null,"Must Have"),f.a.createElement("div",null,"(pass/fail)")),f.a.createElement("th",null,f.a.createElement("div",null,"Should Have"),f.a.createElement("div",null,"(pass/fail)")),f.a.createElement("th",null,f.a.createElement("div",null,"Nice to Have"),f.a.createElement("div",null,"(pass/fail)")),f.a.createElement("th",null,f.a.createElement("div",null,"Unexpected Behaviors"),f.a.createElement("div",null,"(total count)")))),f.a.createElement("tbody",null,r.map((function(t,n){return e.renderResultRow(t,n)})),f.a.createElement("tr",null,f.a.createElement("td",null,"Support"),f.a.createElement("td",null,c[1][1]?"".concat(Math.round(c[1][0]/c[1][1]*100),"%"):"-"),f.a.createElement("td",null,c[2][1]?"".concat(Math.round(c[2][0]/c[2][1]*100),"%"):"-"),f.a.createElement("td",null,c[3][1]?"".concat(Math.round(c[3][0]/c[3][1]*100),"%"):"-"),f.a.createElement("td",null,u?"".concat(u," command(s) produced unexpected behaviors"):"No unexpected behaviors"))))),r.map((function(t,n){return e.renderResultDetails(t,n)})))}}]),t}(d.Component)},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(50),s=n.n(a),r=n(51),l=n.n(r),i=n(52),c=n.n(i),u=n(53),o=n.n(u),m=n(55),h=n.n(m),d=n(54),f=n.n(d),v=n(0),E=n.n(v),p=(n(23),n(15)),g=function(e){function t(e){var n;return s()(this,t),(n=c()(this,o()(t).call(this,e))).state={currentTest:0,remindFinishTest:!1},n.results=[],n.handleSubmit=n.handleSubmit.bind(h()(n)),n.handleSkip=n.handleSkip.bind(h()(n)),n.handleRedo=n.handleRedo.bind(h()(n)),n.testIframe=E.a.createRef(),n}return f()(t,e),l()(t,[{key:"handleSkip",value:function(){this.state.currentTest===this.props.tests.length-1?this.props.finishRun(this.results):this.setState({currentTest:this.state.currentTest+1})}},{key:"handleSubmit",value:function(){var e=this.testIframe.current.contentDocument.querySelector("#__ariaatharness__results__");e?(this.results.push(JSON.parse(e.innerHTML)),this.state.currentTest===this.props.tests.length-1?this.props.finishRun(this.results):this.setState({currentTest:this.state.currentTest+1,remindFinishTest:!1})):this.setState({remindFinishTest:!0})}},{key:"handleRedo",value:function(){"undefined"!=typeof document&&document.getElementById("testfile").contentWindow.location.reload()}},{key:"render",value:function(){var e=this.props,t=e.tests,n=e.at,a=e.browser,s=t[this.state.currentTest];return n||(n="JAWS"),E.a.createElement(v.Fragment,null,E.a.createElement(p.Head,null,E.a.createElement("title",null,"ARIA-AT: Test Run")),E.a.createElement("section",null,E.a.createElement("p",null,"Screen reader: ",n,", browser: ",a),E.a.createElement("h1",null,"Current test (",this.state.currentTest+1," of ",t.length,"): ",s.fullName),E.a.createElement("iframe",{id:"testfile",src:"../tests".concat(s.location,"?at=").concat(n),ref:this.testIframe}),E.a.createElement("button",{onClick:this.handleRedo},"Redo Test"),E.a.createElement("button",{onClick:this.handleSkip},"Skip Test"),E.a.createElement("button",{onClick:this.handleSubmit},"Submit Results"),this.state.remindFinishTest&&E.a.createElement("p",{className:"test-incomplete",tabIndex:"0"},"Current test not completed, finish marking behavior results.")))}}]),t}(v.Component)},62:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(15),l=(n(24),n(50)),i=n.n(l),c=n(51),u=n.n(c),o=n(52),m=n.n(o),h=n(53),d=n.n(h),f=n(55),v=n.n(f),E=n(54),p=n.n(E),g=function(e){function t(e){var n;i()(this,t),n=m()(this,d()(t).call(this,e));var a={};for(var r in e.allTests){a[r]={};var l=!0,c=!1,u=void 0;try{for(var o,h=e.allTests[r][Symbol.iterator]();!(l=(o=h.next()).done);l=!0){var f=o.value;a[r][f.name]=!1}}catch(E){c=!0,u=E}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}return n.state={selectedTests:a,at:n.props.ats[0],atVersion:"",selectedDesignPattern:void 0},n.selectTestEl=s.a.createRef(),n.runTests=n.runTests.bind(v()(n)),n.selectTest=n.selectTest.bind(v()(n)),n.selectAT=n.selectAT.bind(v()(n)),n.selectATVersion=n.selectATVersion.bind(v()(n)),n}return p()(t,e),u()(t,[{key:"selectAT",value:function(e){this.setState({at:e.target.value})}},{key:"selectATVersion",value:function(e){this.setState({atVersion:e.target.value})}},{key:"selectTest",value:function(e){var t=Object.assign({},this.state.selectedTests),n=this.state.selectedDesignPattern,a=e.target.name;if(0===a.indexOf("all-")){var s=a.slice(4);if(e.target.checked)for(var r in n=s,t)for(var l in t[r])t[r][l]=r===s;else for(var i in n=void 0,t[s])t[s][i]=!1}else{var c=a.split("_")[0],u=a.split("_")[1],o=e.target.checked;for(var m in t[c][u]=o,n=c,t)if(m!==c)for(var h in t[m])t[m][h]=!1}this.setState({selectedTests:t,selectedDesignPattern:n})}},{key:"runTests",value:function(e){var t=this.props.allTests,n=[];for(var a in t){var s=!0,r=!1,l=void 0;try{for(var i,c=t[a][Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var u=i.value;this.state.selectedTests[a][u.name]&&n.push(u)}}catch(o){r=!0,l=o}finally{try{s||null==c.return||c.return()}finally{if(r)throw l}}}n.length?this.props.startRun({tests:n,at:this.state.at,atVersion:this.state.atVersion,designPattern:this.state.selectedDesignPattern}):this.selectTestEl.current.focus()}},{key:"isDesignPatternChecked",value:function(e){var t=!0;for(var n in this.state.selectedTests[e])t=t&&this.state.selectedTests[e][n];return t}},{key:"renderDesignPatternSelectable",value:function(e,t){var n=this,a=this.isDesignPatternChecked(e),r="all-".concat(e);return s.a.createElement("details",{className:"design-pattern-options",key:e},s.a.createElement("summary",{className:"configuration-item"},s.a.createElement("input",{type:"checkbox",id:r,name:r,checked:a,onChange:this.selectTest}),s.a.createElement("label",{htmlFor:r},"Tests for ",e)),s.a.createElement("ul",{className:"select-test-list"},t.map((function(t){return n.renderTestSelectable(e,t)}))))}},{key:"renderTestSelectable",value:function(e,t){var n="".concat(e,"_").concat(t.name),a=this.state.selectedTests[e][t.name];return s.a.createElement("li",{className:"select-test-item",key:t.location},s.a.createElement("input",{type:"checkbox",id:n,name:n,checked:a,onChange:this.selectTest}),s.a.createElement("label",{htmlFor:n,title:t.fullName,className:"engine-label"},t.fullName," ",s.a.createElement("div",{className:"test-details"},t.location.slice(1))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allTests,l=t.ats,i=t.browser,c=t.browserVersion,u=0,o=new Set;for(var m in n){var h=!0,d=!1,f=void 0;try{for(var v,E=n[m][Symbol.iterator]();!(h=(v=E.next()).done);h=!0){var p=v.value;this.state.selectedTests[m][p.name]&&(u++,o.add(m))}}catch(g){d=!0,f=g}finally{try{h||null==E.return||E.return()}finally{if(d)throw f}}}return s.a.createElement(a.Fragment,null,s.a.createElement(r.Head,null,s.a.createElement("title",null,"ARIA-AT: Configure Test Run")),s.a.createElement("section",null,s.a.createElement("h1",null,"It's test time!"),s.a.createElement("div",{ref:this.selectTestEl,tabIndex:"0"},"Select at least one test to run. Only one design pattern can be tested at a time."),Object.keys(n).map((function(t){return e.renderDesignPatternSelectable(t,n[t])})),s.a.createElement("div",{className:"configuration-item"},s.a.createElement("label",{htmlFor:"select-at"},"Select which assistive technology you are testing: "),s.a.createElement("select",{name:"at",id:"select-at",value:this.state.at,onChange:this.selectAT},l.map((function(e){return s.a.createElement("option",{value:e,key:e},e)})))),s.a.createElement("div",{className:"configuration-item"},s.a.createElement("label",{htmlFor:"select-at"},"Which version of ",this.state.at,"?: "),s.a.createElement("input",{type:"text",name:"at-version",id:"select-at-version",value:this.state.atVersion,onChange:this.selectATVersion})),s.a.createElement("div",{className:"configuration-item"},"Saving results for UserAgent: ",s.a.createElement("span",{className:"us"},i," (",c,")")),s.a.createElement("button",{onClick:this.runTests},u?"Run ".concat(u," test").concat(1===u?"":"s",' for pattern "').concat(this.state.selectedDesignPattern,'"'):"Run 0 tests")))}}]),t}(a.Component),y=n(133),b=n(134),T=n(135),R=n.n(T),k=function(e){function t(e){var n;if(i()(this,t),(n=m()(this,d()(t).call(this,e))).state={stage:"configureRun"},n.tests=[],n.results=[],n.browser="",n.browserVersion,"undefined"!=typeof window){var a=R.a.getParser(window.navigator.userAgent);n.browser=a.getBrowser().name,n.browserVersion=a.getBrowser().version}return n.finishRun=n.finishRun.bind(v()(n)),n.startRun=n.startRun.bind(v()(n)),n}return p()(t,e),u()(t,[{key:"startRun",value:function(e){this.tests=e.tests,this.at=e.at,this.atVersion=e.atVersion,this.designPattern=e.designPattern,this.setState({stage:"runTests"})}},{key:"finishRun",value:function(e){this.results=e,this.setState({stage:"displayResults"})}},{key:"renderTestRun",value:function(){return s.a.createElement(b.a,{tests:this.tests,browser:this.browser,browserVersion:this.browserVersion,at:this.at,atVersion:this.atVersion,finishRun:this.finishRun,designPattern:this.designPattern})}},{key:"renderConfigureRun",value:function(){return s.a.createElement(g,{ats:this.props.ats,allTests:this.props.allTests,startRun:this.startRun,browser:this.browser,browserVersion:this.browserVersion})}},{key:"renderResults",value:function(){var e={results:this.results,assistiveTechnology:{name:this.at,version:this.atVersion},browser:{name:this.browser,version:this.browserVersion},designPattern:this.designPattern};return s.a.createElement(y.a,{resultsData:e})}},{key:"render",value:function(){return s.a.createElement(a.Fragment,null,"configureRun"===this.state.stage&&this.renderConfigureRun(),"runTests"===this.state.stage&&this.renderTestRun(),"displayResults"===this.state.stage&&this.renderResults())}}]),t}(a.Component);function S(){var e=Object(r.useRouteData)(),t=e.allTests,n=e.ats;return s.a.createElement("div",null,s.a.createElement(k,{allTests:t,ats:n}))}n.d(t,"default",(function(){return S}))}}]);